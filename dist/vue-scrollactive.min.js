!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["vue-scrollactive"]=t():e["vue-scrollactive"]=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o={};o.install=function(e){o.install.installed||e.component("scrollactive",i.default)},"undefined"!=typeof window&&window.Vue&&o.install(window.Vue),t.default=o},function(e,t,r){var n=r(2)(r(3),r(5),null,null,null);e.exports=n.exports},function(e,t){e.exports=function(e,t,r,n,i){var o,s=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(o=e,s=e.default);var c="function"==typeof s?s.options:s;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns),n&&(c._scopeId=n);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=r),l){var u=c.functional,f=u?c.render:c.beforeCreate;u?c.render=function(e,t){return l.call(t),f(e,t)}:c.beforeCreate=f?[].concat(f,l):[l]}return{esModule:o,exports:s,options:c}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={props:{activeClass:{type:String,default:"is-active"},offset:{type:Number,default:20},clickToScroll:{type:Boolean,default:!0},duration:{type:Number,default:600},alwaysTrack:{type:Boolean,default:!1},bezierEasingValue:{type:String,default:".5,0,.35,1"}},data:function(){return{observer:null,scrollactiveItems:[],bezierEasing:i.default,currentItem:null,lastActiveItem:null}},computed:{cubicBezierArray:function(){return this.bezierEasingValue.split(",")}},mounted:function(){var e=window.MutationObserver||window.WebKitMutationObserver;this.observer||(this.observer=new e(this.initScrollactiveItems),this.observer.observe(this.$refs["scrollactive-nav-wrapper"],{childList:!0,subtree:!0})),this.initScrollactiveItems(),this.removeActiveClass(),this.currentItem=this.getItemInsideWindow(),this.currentItem&&this.currentItem.classList.add(this.activeClass),window.addEventListener("scroll",this.onScroll)},updated:function(){this.initScrollactiveItems()},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll),window.cancelAnimationFrame(window.AFRequestID)},methods:{onScroll:function(e){this.currentItem=this.getItemInsideWindow(),this.currentItem!==this.lastActiveItem&&(this.removeActiveClass(),this.$emit("itemchanged",e,this.currentItem,this.lastActiveItem),this.lastActiveItem=this.currentItem),this.currentItem&&this.currentItem.classList.add(this.activeClass)},getItemInsideWindow:function(){var e=this,t=void 0;return[].forEach.call(this.scrollactiveItems,function(r){var n=document.getElementById(r.hash.substr(1));window.pageYOffset>=e.getOffsetTop(n)-e.offset&&(t=r)}),t},initScrollactiveItems:function(){var e=this;if(this.scrollactiveItems=this.$el.querySelectorAll(".scrollactive-item"),this.clickToScroll)return void[].forEach.call(this.scrollactiveItems,function(t){t.addEventListener("click",e.scrollToTargetElement)});[].forEach.call(this.scrollactiveItems,function(t){t.removeEventListener("click",e.scrollToTargetElement)})},setScrollactiveItems:function(){this.initScrollactiveItems()},scrollToTargetElement:function(e){var t=this;e.preventDefault();var r=e.currentTarget.hash,n=document.getElementById(r.substr(1));if(!n)return void console.warn("[vue-scrollactive] Element '"+r+"' was not found. Make sure it is set in the DOM.");this.alwaysTrack||(window.removeEventListener("scroll",this.onScroll),window.cancelAnimationFrame(window.AFRequestID),this.removeActiveClass(),e.currentTarget.classList.add(this.activeClass));var i=this.getOffsetTop(n),o=window.pageYOffset,s=i-o,a=this.bezierEasing(this.cubicBezierArray[0],this.cubicBezierArray[1],this.cubicBezierArray[2],this.cubicBezierArray[3]),c=null,l=function e(n){c||(c=n);var i=n-c,l=i/t.duration;i>=t.duration&&(i=t.duration),l>=1&&(l=1);var u=o+a(l)*(s-t.offset);window.scrollTo(0,u),i<t.duration?window.AFRequestID=window.requestAnimationFrame(e):(window.addEventListener("scroll",t.onScroll),window.history.pushState?window.history.pushState(null,null,r):window.location.hash=r)};window.requestAnimationFrame(l)},getOffsetTop:function(e){for(var t=0,r=e;r;)t+=r.offsetTop,r=r.offsetParent;return t},removeActiveClass:function(){var e=this;[].forEach.call(this.scrollactiveItems,function(t){t.classList.remove(e.activeClass)})}}}},function(e,t){function r(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function i(e){return 3*e}function o(e,t,o){return((r(t,o)*e+n(t,o))*e+i(t))*e}function s(e,t,o){return 3*r(t,o)*e*e+2*n(t,o)*e+i(t)}function a(e,t,r,n,i){var s,a,c=0;do{a=t+(r-t)/2,s=o(a,n,i)-e,s>0?r=a:t=a}while(Math.abs(s)>u&&++c<f);return a}function c(e,t,r,n){for(var i=0;i<l;++i){var a=s(t,r,n);if(0===a)return t;t-=(o(t,r,n)-e)/a}return t}var l=4,u=1e-7,f=10,d=11,v=1/(d-1),h="function"==typeof Float32Array;e.exports=function(e,t,r,n){function i(t){for(var n=0,i=1,o=d-1;i!==o&&l[i]<=t;++i)n+=v;--i;var u=(t-l[i])/(l[i+1]-l[i]),f=n+u*v,h=s(f,e,r);return h>=.001?c(t,f,e,r):0===h?f:a(t,n,n+v,e,r)}if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");var l=h?new Float32Array(d):new Array(d);if(e!==t||r!==n)for(var u=0;u<d;++u)l[u]=o(u*v,e,r);return function(s){return e===t&&r===n?s:0===s?0:1===s?1:o(i(s),t,n)}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("nav",{ref:"scrollactive-nav-wrapper",staticClass:"scrollactive-nav"},[e._t("default")],2)},staticRenderFns:[]}}])});